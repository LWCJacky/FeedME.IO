{"version":3,"sources":["webpack:///./src/views/order1.vue","webpack:///./src/views/order1.vue?9c92","webpack:///./src/views/order1.vue?58fa"],"names":["class","UserOrderInformation","data","UserName","type","OrderContent","placeholder","psData","SendOut","toast","name","route","modDaya","key","params","keys","db","then","snapshot","exists","error","router","push","console","log","val","msgData","userId","catch","render"],"mappings":"kJACOA,MAAM,S,+oBAWJA,MAAM,e,GACJA,MAAM,yB,EACT,eAAc,UAAV,SAAK,G,GACJA,MAAM,a,EACP,eAEM,OAFDA,MAAM,uBAAqB,CAC5B,eAAwB,KAArBA,MAAM,OAAM,W,MAEdA,MAAM,uB,EAWnB,eAEM,OAFDA,MAAM,sBAAoB,CAC3B,eAA+B,OAA1BA,MAAM,kB,KAEf,eAEM,OAFDA,MAAM,iBAAe,CACtB,eAAmE,OAA9DA,MAAM,iCAA+B,CAAC,eAAkB,SAAf,mB,mDAjCpD,eAmCI,MAnCJ,EAmCI,CAlCF,EAUA,eAiBM,MAjBN,EAiBM,CAhBJ,eAcM,MAdN,EAcM,CAbJ,EACA,eAMM,MANN,EAMM,CALF,EAGA,eAAwG,MAAxG,EAAwG,C,eAAvE,eAAiE,S,qCAAjD,EAAAC,qBAAqBC,KAAKC,SAAQ,GAAEC,KAAK,Q,mBAAzC,EAAAH,qBAAqBC,KAAKC,cAC3E,eAA+C,yBAAzC,EAAAF,qBAAqBC,KAAKC,UAAQ,K,eAE5C,eAA4F,Y,qCAAzE,EAAAF,qBAAqBC,KAAKG,aAAY,GAAEC,YAAY,W,mBAApD,EAAAL,qBAAqBC,KAAKG,gBAC7C,eAAmD,yBAA7C,EAAAJ,qBAAqBC,KAAKG,cAAY,G,eAC5C,eAAiF,Y,qCAA9D,EAAAJ,qBAAqBC,KAAKK,OAAM,GAAED,YAAY,M,mBAA9C,EAAAL,qBAAqBC,KAAKK,UAC7C,eAA6C,yBAAvC,EAAAN,qBAAqBC,KAAKK,QAAM,GACpC,eAAsE,SAA9D,QAAK,oBAAE,EAAAC,SAAA,EAAAA,WAAA,IAASJ,KAAK,SAASJ,MAAM,+BAIlD,EAGA,I,gEC1BJ,MAAMS,EAAQ,iBACC,qBAAgB,CAC7BC,KAAM,QACN,QACE,MAAMC,EAAQ,iBAERV,EAAuB,eAAS,CACpCC,KAAK,CACHC,SAAU,GACVE,aAAc,GACdE,OAAQ,MAINK,EAAQ,eAAS,CACrBC,IAAIF,EAAMG,OAAOC,OAEnB,eAAU,KACR,MAAMC,EAAG,eAAY,QACrB,eAAI,eAAM,eAAIA,GAAK,SAASJ,EAAQC,MAAQI,KAAMC,IAC5CA,EAASC,SACXV,EAAM,SAENA,EAAMW,MAAM,UACZC,EAAA,KAAOC,KAAK,UAIlB,MAAMd,EAAQ,KACZ,MAAMQ,EAAG,eAAY,QACP,eAAIA,EAAG,SAASJ,EAAQC,KACE,KAArCZ,EAAqBC,KAAKC,SAGqB,KAAzCF,EAAqBC,KAAKG,aAInC,eAAI,eAAM,eAAIW,GAAK,SAASJ,EAAQC,0BAA0BI,KAAMC,IAClE,GAAIA,EAASC,SAAU,CACrBI,QAAQC,IAAIN,EAASO,OACrB,MAAMvB,EAAKgB,EAASO,MAAMC,QAC1BH,QAAQC,IAAItB,GACZA,EAAKoB,KAAKrB,EAAqBC,MAC/BqB,QAAQC,IAAItB,GACX,eAAO,eAAIc,EAAI,SAAUJ,EAAQC,IAAI,sBAAuB,CAACa,QAAQxB,QACjE,CACLqB,QAAQC,IAAI,qBACZD,QAAQC,IAAIN,EAASO,OACrB,MAAMvB,EAAK,CAACD,EAAqBC,MACjC,eAAO,eAAIc,EAAI,SAAUJ,EAAQC,IAAI,sBAAuB,CACtDa,QAAQxB,IAGhBmB,EAAA,KAAOC,KAAK,CAAEZ,KAAM,OAAQI,OAAQ,CAAEa,OAAOf,EAAQC,SACpDe,MAAOR,IACRG,QAAQH,MAAMA,KArBbX,EAAMW,MAAM,gBAHbX,EAAMW,MAAM,0BA2BlB,MAAM,CACJnB,uBACAO,UACAI,cClEJ,EAAOiB,OAASA,EAED","file":"js/chunk-2d0de1c2.4f6c2aa4.js","sourcesContent":["<template>\r\n  <div class=\"frame\">\r\n    <div class=\"frame__header u-text-center\">\r\n        <div>\r\n            <div class=\"frame__title\"><h1>FeedME.IO</h1></div>\r\n            <div class=\"frame__subtitle\">為飢餓的你而生</div>\r\n        </div>\r\n        <div class=\"row\"><a class=\"col\" href=\"!#\"><i class=\"fa fa-wrapper fa-facebook link-btn\" aria-hidden=\"true\"></i></a><a class=\"col\" href=\"#\"><i class=\"fa fa-wrapper fa-twitter link-btn\" aria-hidden=\"true\"></i></a><a class=\"col\" href=\"#\"><i class=\"fa fa-wrapper fa-instagram link-btn\" aria-hidden=\"true\"></i></a><a class=\"col\" href=\"#\"><i class=\"fa fa-wrapper fa-medium link-btn\" aria-hidden=\"true\"></i></a></div>\r\n    </div>\r\n    <div class=\"content-no-padding\">\r\n        <div class=\"divider m-0\"></div>\r\n    </div>\r\n    <div class=\"frame__body\">\r\n      <div class='content u-text-center'>\r\n        <h3>請填寫菜單</h3>\r\n        <div class=\"row level\">\r\n            <div class=\"col-xs-3 level-item\">\r\n                <p class=\"m-0\">Name:</p>\r\n            </div>\r\n            <div class=\"col-xs-9 level-item\"><input v-model=\"UserOrderInformation.data.UserName\" type=\"name\" ></div>\r\n            <h6>{{UserOrderInformation.data.UserName}}</h6>\r\n        </div>\r\n        <textarea v-model=\"UserOrderInformation.data.OrderContent\" placeholder='請輸入菜單內容'></textarea>\r\n        <h6>{{UserOrderInformation.data.OrderContent}}</h6>\r\n        <textarea v-model=\"UserOrderInformation.data.psData\" placeholder='備註'></textarea>\r\n        <h6>{{UserOrderInformation.data.psData}}</h6>\r\n          <input @click=\"SendOut\" type=\"submit\" class=\"btn-primary pull-right\"/>\r\n      </div>\r\n        \r\n    </div>\r\n    <div class=\"content-no-padding\">\r\n        <div class=\"divider m-0\"></div>\r\n    </div>\r\n    <div class=\"frame__footer\">\r\n        <div class=\"frame__subtitle u-text-center\"><i>這是一個開發階段的頁面</i></div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, onMounted, reactive, render } from 'vue';\r\nimport { useToast } from \"vue-toastification\";\r\nimport{getDatabase,get,set,child,ref,update} from\"firebase/database\"\r\nimport dbs from '../db'\r\nimport router from '../router';\r\nimport { useRoute } from 'vue-router';\r\nconst toast = useToast()\r\nexport default defineComponent({\r\n  name: 'order',\r\n  setup(){\r\n    const route = useRoute()\r\n      // 當前訂單資料\r\n    const UserOrderInformation = reactive({\r\n      data:{ \r\n        UserName: '',\r\n        OrderContent: '',\r\n        psData: '',\r\n      }\r\n      \r\n    })\r\n    const modDaya=reactive({\r\n      key:route.params.keys\r\n    })\r\n    onMounted((): void => {\r\n      const db=getDatabase(dbs)\r\n      get(child(ref(db), `users/${modDaya.key}`)).then((snapshot) => {\r\n        if (snapshot.exists()){\r\n          toast('請點餐!')\r\n        }else{\r\n          toast.error(\"查無此訂單!\");\r\n          router.push('/')\r\n        }\r\n      })\r\n    })\r\n    const SendOut=(): void =>{\r\n      const db=getDatabase(dbs)\r\n      const refData=ref(db,\"users/\"+modDaya.key)\r\n      if(UserOrderInformation.data.UserName===''){\r\n        toast.error(\"Name不能留空!!!\\n請輸入您的名子!\");\r\n        return\r\n      }else if(UserOrderInformation.data.OrderContent===''){\r\n         toast.error(\"菜單內容不能留空!!!!\");\r\n         return\r\n      }\r\n      get(child(ref(db), `users/${modDaya.key}/datas/MenuDetails`)).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          console.log(snapshot.val());\r\n          const data=snapshot.val().msgData\r\n          console.log(data);\r\n          data.push(UserOrderInformation.data)\r\n          console.log(data);\r\n           update(ref(db, 'users/' +modDaya.key+'/datas/MenuDetails'), {msgData:data});\r\n        } else {\r\n          console.log(\"No data available\");\r\n          console.log(snapshot.val());\r\n          const data=[UserOrderInformation.data]\r\n          update(ref(db, 'users/' +modDaya.key+'/datas/MenuDetails'), {\r\n                msgData:data\r\n            });\r\n        }\r\n        router.push({ name: 'user', params: { userId:modDaya.key } })\r\n      }).catch((error) => {\r\n        console.error(error);\r\n      });\r\n    }\r\n  return{\r\n    UserOrderInformation,\r\n    SendOut,\r\n    modDaya\r\n  }\r\n  }\r\n});\r\n</script>\r\n<style >\r\n</style>\r\n\r\n\r\n","\r\nimport { defineComponent, onMounted, reactive, render } from 'vue';\r\nimport { useToast } from \"vue-toastification\";\r\nimport{getDatabase,get,set,child,ref,update} from\"firebase/database\"\r\nimport dbs from '../db'\r\nimport router from '../router';\r\nimport { useRoute } from 'vue-router';\r\nconst toast = useToast()\r\nexport default defineComponent({\r\n  name: 'order',\r\n  setup(){\r\n    const route = useRoute()\r\n      // 當前訂單資料\r\n    const UserOrderInformation = reactive({\r\n      data:{ \r\n        UserName: '',\r\n        OrderContent: '',\r\n        psData: '',\r\n      }\r\n      \r\n    })\r\n    const modDaya=reactive({\r\n      key:route.params.keys\r\n    })\r\n    onMounted((): void => {\r\n      const db=getDatabase(dbs)\r\n      get(child(ref(db), `users/${modDaya.key}`)).then((snapshot) => {\r\n        if (snapshot.exists()){\r\n          toast('請點餐!')\r\n        }else{\r\n          toast.error(\"查無此訂單!\");\r\n          router.push('/')\r\n        }\r\n      })\r\n    })\r\n    const SendOut=(): void =>{\r\n      const db=getDatabase(dbs)\r\n      const refData=ref(db,\"users/\"+modDaya.key)\r\n      if(UserOrderInformation.data.UserName===''){\r\n        toast.error(\"Name不能留空!!!\\n請輸入您的名子!\");\r\n        return\r\n      }else if(UserOrderInformation.data.OrderContent===''){\r\n         toast.error(\"菜單內容不能留空!!!!\");\r\n         return\r\n      }\r\n      get(child(ref(db), `users/${modDaya.key}/datas/MenuDetails`)).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          console.log(snapshot.val());\r\n          const data=snapshot.val().msgData\r\n          console.log(data);\r\n          data.push(UserOrderInformation.data)\r\n          console.log(data);\r\n           update(ref(db, 'users/' +modDaya.key+'/datas/MenuDetails'), {msgData:data});\r\n        } else {\r\n          console.log(\"No data available\");\r\n          console.log(snapshot.val());\r\n          const data=[UserOrderInformation.data]\r\n          update(ref(db, 'users/' +modDaya.key+'/datas/MenuDetails'), {\r\n                msgData:data\r\n            });\r\n        }\r\n        router.push({ name: 'user', params: { userId:modDaya.key } })\r\n      }).catch((error) => {\r\n        console.error(error);\r\n      });\r\n    }\r\n  return{\r\n    UserOrderInformation,\r\n    SendOut,\r\n    modDaya\r\n  }\r\n  }\r\n});\r\n","import { render } from \"./order1.vue?vue&type=template&id=04b0d034\"\nimport script from \"./order1.vue?vue&type=script&lang=ts\"\nexport * from \"./order1.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}