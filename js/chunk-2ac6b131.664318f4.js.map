{"version":3,"sources":["webpack:///./src/views/CheckingOrder.vue","webpack:///./src/views/CheckingOrder.vue?adaa","webpack:///./src/views/CheckingOrder.vue?b756","webpack:///./src/views/CheckingOrder.vue?00a7"],"names":["class","id","frontPage","refData","data","name","username","time","Orderlink","ToShare","ShowOrderDetails","logData","src","key","trim","alt","listData","ordering","UserName","OrderContent","psData","toast","components","route","params","userId","db","then","snapshot","exists","error","router","push","starCountRef","forEach","childSnapshot","childKey","childData","val","MenuDetails","msgData","e","console","log","onlyOnce","keys","length","InMaintenance","methods","computed","render"],"mappings":"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","file":"js/chunk-2ac6b131.664318f4.js","sourcesContent":["<template>\r\n  <div class=\"frame\" >\r\n    <div class=\"frame__header u-text-center\">\r\n        <div>\r\n            <div @click=\"frontPage\" class=\"frame__title\"><h1>FeedME.IO</h1></div>\r\n            <div class=\"frame__subtitle\">為飢餓的你而生</div>\r\n        </div>\r\n        \r\n    </div>\r\n    <div class=\"content-no-padding\">\r\n        <div class=\"divider m-0\"></div>\r\n    </div>\r\n    <div class=\"frame__body\">\r\n      <div class='content u-text-center'>\r\n       <div class=\"card\">\r\n            <div class=\"card__header\">\r\n                <p class=\"font-bold px-3\">{{refData.data.name}}</p>\r\n            </div>\r\n            <div class=\"content\">\r\n                <h4>這是{{refData.data.username}}創建的訂單</h4>\r\n                <p>注意事項:</p>\r\n                <p>{{refData.data.data}}</p>\r\n            </div>\r\n            <div class=\"card__footer level content\">{{refData.data.time}}</div>\r\n            <div class=\"card__action-bar u-center\">\r\n                <button @click=\"Orderlink\" class=\"btn-transparent outline\">點餐</button>\r\n                <button @click=\"ToShare\" class=\"btn-transparent outline\">分享</button>\r\n                <button @click=\"ShowOrderDetails\" class=\"btn-transparent outline\">顯示菜單明細</button>\r\n                \r\n            </div>\r\n             <div v-if=\"refData.logData\" id=\"ordering-info\">\r\n                    <h2>訂單明細</h2>\r\n                    <img id=\"qrcode-img\" v-if=\"refData.data.name !== 'None'\"\r\n                    :src=\"'https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://lwcjacky.github.io/FeedME.IO/%23/user/'+ refData.key.trim()\"\r\n                    alt=\"\">\r\n                    <hr>\r\n                    <div class=\"ordering-item\" v-for=\"(ordering) in refData.listData\" :key=\"ordering\">\r\n                    <p><strong>{{ordering.UserName}}</strong></p>\r\n                    <span>{{ordering.OrderContent}}</span>\r\n                    <br>\r\n                    <span class=\"notice\">備註: {{ordering.psData}}</span>\r\n                    <div class=\"divider\"></div>\r\n                    </div>\r\n                    \r\n                </div>\r\n        </div>\r\n      </div>\r\n       \r\n    </div>\r\n    <div class=\"content-no-padding\">\r\n        <div class=\"divider m-0\"></div>\r\n    </div>\r\n    <div class=\"frame__footer\">\r\n        <div class=\"frame__subtitle u-text-center\"><i>這是一個開發階段的頁面</i></div>\r\n    </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n\r\n\r\nimport dbs from '../db'\r\nimport { defineComponent, onMounted, reactive } from 'vue';\r\nimport { getDatabase,ref,onValue, get, child, onChildAdded} from \"firebase/database\";\r\nimport { useRoute } from 'vue-router';\r\nimport router from '@/router';\r\nimport { useToast } from \"vue-toastification\";\r\nconst toast = useToast()\r\nexport default defineComponent({\r\n  name: 'Mod1',\r\n  components: {\r\n  },\r\n  setup(){\r\n    \r\n    const route = useRoute()// vue3 get router params\r\n    const refData=reactive({\r\n     key:route.params.userId,\r\n      listData:[],\r\n     data:{\r\n       name:\"\"\r\n       \r\n     },\r\n     logData:0\r\n    })\r\n    onMounted((): void => {\r\n      const db=getDatabase(dbs)\r\n      get(child(ref(db), `users/${refData.key}`)).then((snapshot) => {\r\n        if (!snapshot.exists()){\r\n          toast.error(\"查無此訂單!\");\r\n          router.push('/')\r\n        }\r\n      })\r\n    })\r\n    const db = getDatabase(dbs);\r\n    const starCountRef = ref(db,'users/'+refData.key);\r\n    onValue(starCountRef, (snapshot) => {'value'\r\n      snapshot.forEach((childSnapshot) => {\r\n        const childKey = childSnapshot.key;\r\n        const childData = childSnapshot.val();\r\n        refData.data=childData\r\n          try { // statements to try\r\n            refData.listData=childSnapshot.val().MenuDetails.msgData // 函式可以丟出例外\r\n          }\r\n          catch (e) {\r\n            refData.listData=[]\r\n          }\r\n          \r\n        \r\n        console.log(childKey);\r\n      });\r\n    }, {\r\n      onlyOnce: false\r\n    });\r\n    const Orderlink=(): void=> {\r\n      router.push({ name: 'order', params: { keys:refData.key} })\r\n    }\r\n    const ShowOrderDetails=(): void=>{\r\n      if(refData.listData.length!==0){\r\n        refData.logData=1\r\n      }\r\n      else{\r\n        toast.error(\"目前沒有人點餐!\");\r\n      }\r\n    }\r\n    const InMaintenance=(): void=>{\r\n      toast.error(\"此功能尚未啟用!\");\r\n    }\r\n    const ToShare=(): void=>{\r\n      router.push({ name: 'share', params: { keys:refData.key} })\r\n    }\r\n    const frontPage=(): void=>{\r\n      router.push('/')\r\n    }\r\n    return{\r\n        refData,\r\n        Orderlink,\r\n        ShowOrderDetails,\r\n        frontPage,\r\n        InMaintenance,\r\n        ToShare\r\n    } \r\n  },\r\n  methods:{\r\n    \r\n  },\r\n  computed:{\r\n      \r\n  }\r\n});\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n.frame__body {\r\n    flex: 1 1 auto;\r\n    -webkit-flex: 1 1 auto;\r\n    -ms-flex: 1 1 auto;\r\n    overflow-y: auto;\r\n    padding: 0 1rem;\r\n}\r\n\r\n\r\n</style>","\r\n\r\n\r\nimport dbs from '../db'\r\nimport { defineComponent, onMounted, reactive } from 'vue';\r\nimport { getDatabase,ref,onValue, get, child, onChildAdded} from \"firebase/database\";\r\nimport { useRoute } from 'vue-router';\r\nimport router from '@/router';\r\nimport { useToast } from \"vue-toastification\";\r\nconst toast = useToast()\r\nexport default defineComponent({\r\n  name: 'Mod1',\r\n  components: {\r\n  },\r\n  setup(){\r\n    \r\n    const route = useRoute()// vue3 get router params\r\n    const refData=reactive({\r\n     key:route.params.userId,\r\n      listData:[],\r\n     data:{\r\n       name:\"\"\r\n       \r\n     },\r\n     logData:0\r\n    })\r\n    onMounted((): void => {\r\n      const db=getDatabase(dbs)\r\n      get(child(ref(db), `users/${refData.key}`)).then((snapshot) => {\r\n        if (!snapshot.exists()){\r\n          toast.error(\"查無此訂單!\");\r\n          router.push('/')\r\n        }\r\n      })\r\n    })\r\n    const db = getDatabase(dbs);\r\n    const starCountRef = ref(db,'users/'+refData.key);\r\n    onValue(starCountRef, (snapshot) => {'value'\r\n      snapshot.forEach((childSnapshot) => {\r\n        const childKey = childSnapshot.key;\r\n        const childData = childSnapshot.val();\r\n        refData.data=childData\r\n          try { // statements to try\r\n            refData.listData=childSnapshot.val().MenuDetails.msgData // 函式可以丟出例外\r\n          }\r\n          catch (e) {\r\n            refData.listData=[]\r\n          }\r\n          \r\n        \r\n        console.log(childKey);\r\n      });\r\n    }, {\r\n      onlyOnce: false\r\n    });\r\n    const Orderlink=(): void=> {\r\n      router.push({ name: 'order', params: { keys:refData.key} })\r\n    }\r\n    const ShowOrderDetails=(): void=>{\r\n      if(refData.listData.length!==0){\r\n        refData.logData=1\r\n      }\r\n      else{\r\n        toast.error(\"目前沒有人點餐!\");\r\n      }\r\n    }\r\n    const InMaintenance=(): void=>{\r\n      toast.error(\"此功能尚未啟用!\");\r\n    }\r\n    const ToShare=(): void=>{\r\n      router.push({ name: 'share', params: { keys:refData.key} })\r\n    }\r\n    const frontPage=(): void=>{\r\n      router.push('/')\r\n    }\r\n    return{\r\n        refData,\r\n        Orderlink,\r\n        ShowOrderDetails,\r\n        frontPage,\r\n        InMaintenance,\r\n        ToShare\r\n    } \r\n  },\r\n  methods:{\r\n    \r\n  },\r\n  computed:{\r\n      \r\n  }\r\n});\r\n\r\n\r\n\r\n\r\n","import { render } from \"./CheckingOrder.vue?vue&type=template&id=697f8c94\"\nimport script from \"./CheckingOrder.vue?vue&type=script&lang=ts\"\nexport * from \"./CheckingOrder.vue?vue&type=script&lang=ts\"\n\nimport \"./CheckingOrder.vue?vue&type=style&index=0&id=697f8c94&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CheckingOrder.vue?vue&type=style&index=0&id=697f8c94&lang=css\""],"sourceRoot":""}